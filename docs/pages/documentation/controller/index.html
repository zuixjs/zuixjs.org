
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Controller implementation types, lifecycle, options, events.">
    <meta name="keywords" content="documentation,api,controller,lifecycle" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Controller</title>
    <link rel="author" href="humans.txt" />
    <link rel="alternate" type="application/rss+xml"
          title="RSS Feed for Controller"
          href="/feed/rss.xml" />

    <!-- Disable tap highlight on IE -->
    <meta name="msapplication-tap-highlight" content="no">

    <!-- Progressive Web App -->
    <meta name="theme-color" content="white">
    <link rel="manifest" href="/manifest.json">

    <!-- Add to home screen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="/images/icons/desktop/android-chrome-192x192.png">
    <link rel="icon" sizes="512x512" href="/images/icons/desktop/android-chrome-512x512.png">

    <!-- Add to home screen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="A zUIx website">
    <link rel="apple-touch-icon-precomposed" href="/images/icons/desktop/apple-touch-icon.png">
    <link rel="mask-icon" href="/images/icons/desktop/safari-pinned-tab.svg" color="#5bbad5">

    <!-- Tile color for Windows -->
    <meta name="msapplication-TileImage" content="/images/icons/desktop/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#ffc40d">

    <!-- Place favicon.ico in the root directory -->
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/desktop/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/desktop/favicon-16x16.png">

    <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
    <!--
    <link rel="canonical" href="https://www.example.com/">
    -->

    <link rel="preload" as="style" href="/css/fla/flex-layout-attribute.min.css" />
    <link rel="stylesheet" href="/css/fla/flex-layout-attribute.min.css" />
    <link rel="preload" as="style" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />

    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
    <link rel="preload" as="style" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap">

    <!-- custom style -->
    <style>
        .rotate{
            animation: loading 3s linear infinite;
        }
        @keyframes loading {
            0% {
                transform: rotate(0);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>


    <link rel="preload" as="style" href="/js/mdl/material.custom-theme.min.css">
    <link rel="stylesheet" href="/js/mdl/material.custom-theme.min.css">
    <link rel="preload" as="script" href="/js/mdl/material.min.js">
    <script src="/js/mdl/material.min.js"></script>



    <link rel="preload" as="style" href="/css/prism.css" />
    <link rel="stylesheet" href="/css/prism.css" />


    <!-- zuix.js https://github.com/zuixjs/zuix -->
    <link rel="preload" as="script" href="/js/zuix/zuix.min.js">
    <link rel="preload" as="script" href="/config.js">
    <script src="/js/zuix/zuix.min.js"></script>
    <script src="/config.js"></script>

<style>
    :root {
        --primary-color: #16641c;
        --primary-color-half: #16641c88;
        --accent-color: rgb(0 123 171);
    }

    body {
        margin: 0;
        padding: 0;
        font-size: 12px!important;
        font-family: Helvetica, sans-serif;
        position: relative;
        min-height: 100vh;
    }

    /* prevents links dragging */
    a, a::after, a::before {
        -webkit-user-drag: none;
        -webkit-app-region: no-drag;
    }

    a {
        text-decoration: none;
    }
    h1 {
        font-size: 195%;
        font-weight: 600!important;
    }
    h1.title {
        margin:0;
        padding-right: 48px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        text-align: center;
        color: var(--primary-color);
    }
    h2 {
        font-size: 185%;
        margin-top: 56px;
        font-weight: 600;
    }
    h3 {
        margin-top: 42px;
        font-size: 160%;
        font-weight: 600;
        color: lightslategray;
    }
    label {
        color: lightslategray;
        font-size: 14px;
        text-transform: uppercase;
        font-weight: bold;
        margin-top: 24px;
        display: block;
    }

    main .content ul {
        padding-left: 20px;
    }
    li {
        line-height: 175%;
        font-size: 100%;
    }
    li small {
        color: dimgray;
        /*    opacity: 0.5;*/
    }

    blockquote {
        font-size: 140%;
        opacity: 0.6;
    }

    p {
        font-size: 130%;
        line-height: 160%;
        margin-bottom: 24px;
    }

    hr {
        margin-bottom: 30px;
        padding: 4px;
        margin: 0;
    }

    th {
        border: 1px solid rgba(100,100,100, 0.5);
    }
    td:not(:first-child) {
        border-left: 1px solid rgba(100,100,100, 0.5);
        padding: 4px;
    }

    code[class*=language-], pre[class*=language-] {
        font-size: 115%;
    }
    pre:not([class*="language-"]) {
        width: 100%;
        max-width: 100%;
        overflow-x: auto;
    }

    pre[class*="language-"]{
        margin-top: 32px!important;
        margin-bottom: 32px!important;
    }
    code {
        color: #0b753f;
        font-size: 115%;
        font-weight: 400;
        margin-left: 2px;
        margin-right: 2px;
        overflow-wrap: break-word; /* for old browsers */
        overflow-wrap: anywhere;
    }
    code.option {
        font-size: 80%;
        padding: 4px;
        border-radius: 6px;
        border: solid 1px rgba(0,200,0,0.25);
        background: rgba(255,255,255,0.15);
    }
    p code {
        font-size: 90%;
    }
    table {
        /*margin-left: auto;
        margin-right: auto;*/
        border: 1px solid rgba(0,0,0,0.2);
    }

    /* prevents links dragging */
    a, a::after, a::before {
        -webkit-user-drag: none;
        -webkit-app-region: no-drag;
    }

    main {
        width: 100% !important;
        padding: 0 !important;
        transition: padding-left 150ms ease-in-out;
    }
    main div.content {
        width: 100% !important;
        max-width: 960px !important;
        padding-left: 12px !important;
        padding-right: 12px !important;
    }
    main h2  {
        margin-top: 56px;
    }
    main .content h2:first-child {
        margin-top: 24px;
    }
    main h3 {
        margin-top: 56px;
        margin-bottom: 16px;
    }
    div.content > p {
        font-size: 150% !important;
        line-height: 160% !important;
        margin: 24px 0 24px;
    }
    [\#header] {
        position: fixed;
        z-index: 1;
        top:0; left: 0; right: 0; bottom: 0;
        height: 64px;
        padding-left: 8px;
        padding-right: 8px;
        background: #f1f1f1;
        box-shadow: 0 1px rgba(100, 100, 100, 30%);
    }
    h1[\#alt_header] {
        max-width: 100%;
        text-align: center;
        display: block;
        padding: 0 !important;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-weight: 600;
        margin: 24px;
    }

    .header-menu-button {
        cursor: pointer;
        height: 48px!important;
        width: 48px!important;
    }
    .header-menu-button i {
        color: black;
        font-size: 32px!important;
        left: 20px!important;
    }

    .margin-8px {
        margin: 8px;
    }
    .margin-10px {
        margin: 10px;
    }
    .margin-16px {
        margin: 16px;
    }
    .no-select {
        -webkit-touch-callout: none; /* iOS Safari */
        -webkit-user-select: none; /* Safari */
        -khtml-user-select: none; /* Konqueror HTML */
        -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
        user-select: none; /* Non-prefixed version, currently
                                      supported by Chrome, Edge, Opera and Firefox */
    }
    @media screen and (min-width: 1280px) {
        main {
            padding-top: 0 !important;
            padding-left: 304px !important;
            padding-right: 24px !important;
        }
        .sponsorship {
            margin-left: 280px;
        }
        [\#header] {
            padding-left: 316px;
            display: none;
        }
        h1[\#alt_header] {
            margin-top: 32px;
            margin-bottom: 48px;
            /*margin-left: -28px;*/
            visibility: visible;
        }
        .header-menu-button {
            display: none;
        }
        footer {
            margin-left: 280px;
        }
    }

    /* UI state classes */
    .not-ready {
        opacity: 0.5;
        -webkit-animation: pulse .5s infinite ease-in-out;
        -o-animation: pulse .5s infinite ease-in-out;
        -ms-animation: pulse .5s infinite ease-in-out;
        -moz-animation: pulse .5s infinite ease-in-out;
        animation: pulse .5s infinite ease-in-out;
    }
    @-webkit-keyframes pulse {
        0% { opacity: 0.2; }
        50% { opacity: 0.4; }
        100% { opacity: 0.2; }
    }
    @keyframes pulse {
        0% { opacity: 0.2; }
        50% { opacity: 0.4; }
        100% { opacity: 0.2; }
    }

    .mdl-tabs__panel pre {
        margin-top: 0!important;
    }
    .mdl-tabs__tab-bar {
        justify-content: left!important;
    }

    [z-load="@lib/templates/mdl-card-image"] {
        position: relative;
        width: 256px;
        height: 256px;
    }
    .drawer-header {
    color:white;
    height: 128px;
    padding: 8px 8px 8px 8px;
    background: #7b9170;  /* fallback for old browsers */
    background: -webkit-linear-gradient(to right, #7b9170, #0b4d2c);  /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to right, #7b9170, #0b4d2c); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
}
.drawer-header img.logo {
    width: 64px;
    height: 64px;
    border: solid 1px rgba(0,0,0,0.75);
    border-radius: 56px;
    background: #ffffff;
}
[data-theme="dark"] .drawer-header img.logo {
    background: #000;
}

.drawer-header .text-logo {
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-size: 180%;
    font-weight: 400;
}
.drawer-header .text-logo small {
    font-size: 12px;
    vertical-align: middle;
    margin-left: 8px;
}
.drawer-header .title {
    margin-left: 4px;
    margin-right: 4px;
    font-size: 120%;
    font-weight: 300;
}
.drawer-header .title code {
    font-weight: bold;
}
.drawer-header .subtitle {
    margin-left: 4px;
    margin-right: 4px;
    font-size: 100%;
    opacity: 0.75;
}
.drawer-header code {
    color: yellow;
}

.drawer-content {
    background: white;
}
[data-theme="dark"] .drawer-content {
    background: #24333e;
}

.drawer-content ul {
    padding: 0;
    margin-top: 8px;
    /*font-size: 120%;*/
}
.drawer-content li:hover a {
    /*box-shadow: 1px 0 rgb(0 0 0 / 15%);
    background: rgba(160,160,160,0.1);*/
    color: var(--primary-color);
}
.drawer-content li {
    margin: 0;
    min-height: 48px;
    vertical-align: center;
    align-content: center;
    align-items: center;
    list-style: none;
    border-top: solid 2px transparent;
    border-bottom: solid 2px transparent;
}
.drawer-content ul li[aria-current=page] {
    border-top: solid 2px #f3f3f3;
    border-bottom: solid 2px #f3f3f3;
    background-color: rgba(127, 127, 127, 10%);
}
.drawer-content ul li[aria-current=page] i, .drawer-content ul li[aria-current=page] a {
    color: var(--primary-color);
}
.drawer-content li a {
    color: var(--accent-color);
    position: relative;
    display: block;
    padding: 8px 16px;
    text-decoration: none;
}
.drawer-content ul li[aria-current=page] a {
    /*pointer-events: none;*/
    color: var(--primary-color);
    font-weight: bold;
}
.drawer-content ul li a div.summary {
    font-size: 95%;
    line-height: 150%;
    margin-top: 4px;
    margin-right: 32px;
    font-style: italic;
    font-weight: 400!important;
    font-family: 'Helvetica Neue', Helvetica, sans-serif;
    color: lightslategray;
}
.drawer-content label {
    display: block;
    margin-top: 16px;
    margin-bottom: 16px;
    margin-left: 12px;
    font-weight: bold;
    color: var(--primary-color);
}
.drawer-content a {
   color: #24333e;
}
[z-context="menu-drawer"]:focus {
    outline: none;
}


</style>

</head>


<!-- scroll helper is used to show/hide the header when scrolling -->
<body ctrl z-load="@lib/controllers/header-auto-hide" :header="'header'"
      z-lazy="scroll" data-theme=""
      layout="column stretch-stretch">

    <nav #header layout="row center-start">
        <div self="stretch" layout="row center-start">
            <button onclick="menuDrawer.open()" class="header-menu-button mdl-button mdl-button--icon">
                <i class="material-icons">menu_open</i>
            </button>
            <h1 self="size-x1" class="title">Controller</h1>
        </div>
    </nav>


    <main layout="column top-center">

        
            <h1 #alt_header class="title">Controller</h1>
        

        <div self="size-x1" class="content">
            <p>A controller is a JavaScript piece of code that can be associated to a view, and it manages its data, presentation and the
usage/interaction logic. Through a controller, it's possible to customize all aspects of a component's lifecycle since
it's early initialization up to the disposal of the component itself. This can be done by implementing component's
<a href="../api/zuix/ContextController/#init">lifecycle callbacks</a>.</p>
<h2>Loading a controller</h2>
<p>A controller can be loaded programmatically using the <a href="../api/zuix/Zuix/#loadComponent"><code>zuix.loadComponent(..)</code></a> method, or it can be
loaded directly in the HTML page, by using the attributes <code>ctrl z-load=&quot;&lt;component_id&gt;&quot;</code> on the host element:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ctrl</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>path/of/controller<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>when the <code>ctrl</code> attribute is present, only the <code>.js</code> controller file will be loaded, and the host element (a <code>div</code> in this case)
will be set as the view of the loaded controller. If the <code>ctrl</code> attribute is not present, then the view files will also
be loaded from <code>.html</code> + <code>.css</code> files, unless differently specified in the controller's <a href="#onInit"><code>onInit()</code></a> callback.</p>
<p>After loading, a <a href="../api/zuix/ComponentContext">ComponentContext</a> object will be created as instance of the loaded component.
A reference to a <em>ComponentContext</em> can be obtained with the <a href="../api/zuix/Zuix/#context"><code>zuix.context(..)</code></a> method:</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">let</span> myControllerContext<span class="token punctuation">;</span>
zuix<span class="token punctuation">.</span><span class="token function">context</span><span class="token punctuation">(</span>hostElement<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">ctx</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  myControllerContext <span class="token operator">=</span> ctx<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> </code></pre>
<p>or through the <code>ready</code> callback in the <a href="../api/zuix/Zuix/#ContextOptions">loading options</a>.</p>
<h2>Implementation</h2>
<p>A controller can be implemented in a <code>&lt;component_name&gt;.js</code> <strong>file</strong> using one of the following code templates:</p>
<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
      <a href="#es6-class" class="mdl-tabs__tab is-active">ES6+</a>
      <a href="#es5-function" class="mdl-tabs__tab">ES5</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="es6-class">
<pre class="language-js"><code class="language-js">
<span class="token keyword">class</span> <span class="token class-name">ComponentName</span> <span class="token keyword">extends</span> <span class="token class-name">ControllerInstance</span> <span class="token punctuation">{</span>

  <span class="token comment">/* Life-cycle callbacks */</span>
  <span class="token function">onInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token function">onDispose</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
  <span class="token function">onUpdate</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> path<span class="token punctuation">,</span> old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="mdl-tabs__panel" id="es5-function">
<pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">ComponentName</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    
  <span class="token comment">/* Life-cycle callbacks */</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">dispose</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">update</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> path<span class="token punctuation">,</span> old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span></code></pre>
  </div>
</div>
<p>Within the controller's scope, the context object <code>this</code>, is the <a href="../api/zuix/ContextController">ContextController</a> instance through which is possible to
access the view template's fields, querying its DOM, handling input events and triggering output events, exposing public interface
members, and other common component's implementation tasks.</p>
<p>Using <em>zuix.js</em> ES5 class format it is also possible to have static and private members.
See the <a href="https://codepen.io/genielabs/pen/eYVLevb">example ES5 class</a>.</p>
<h2>Lifecycle callbacks</h2>
<p><a name="onInit"></a></p>
<h3><code>onInit()</code> <small>( <code>&lt;controller&gt;.init()</code> )</small></h3>
<p>The <code>onInit</code> method gets called right after the JavaScript controller has been loaded and before any other resource is
loaded. This function can be used to get, set component's options, or to load additional dependencies.</p>
<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
      <a href="#es6-class" class="mdl-tabs__tab is-active">ES6+</a>
      <a href="#es5-function" class="mdl-tabs__tab">ES5</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="es6-class">
<pre class="language-js"><code class="language-js"><span class="token function">onInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> opts <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// enable view style encapsulation</span>
  opts<span class="token punctuation">.</span>encapsulation <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token comment">// do not inherit styles from parent</span>
  opts<span class="token punctuation">.</span>resetCss <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token comment">// do not load template's CSS file</span>
  opts<span class="token punctuation">.</span>css <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token comment">// custom option</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>myCustomOption <span class="token operator">===</span> <span class="token string">'some-value'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO: handle custom option</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
  </div>
  <div class="mdl-tabs__panel" id="es5-function">
<pre class="language-js"><code class="language-js"><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> opts <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// enable view style encapsulation</span>
  opts<span class="token punctuation">.</span>encapsulation <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token comment">// do not inherit styles from parent</span>
  opts<span class="token punctuation">.</span>resetCss <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token comment">// do not load template's CSS file</span>
  opts<span class="token punctuation">.</span>css <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
  <span class="token comment">// custom option</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>opts<span class="token punctuation">.</span>myCustomOption <span class="token operator">===</span> <span class="token string">'some-value'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// TODO: handle custom option</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
  </div>
</div>
<p>At this stage it's also possible to change the ready status of the component to <code>false</code> (<code>this.context.isReady = false</code>).
This can be useful in case the component will load other dependencies before becoming fully operational and setting back
<code>this.context.isReady = true</code>. During this <em>&quot;not ready&quot;</em> interval, the class <code>.not-ready</code> will be added to the component's
view so that it can be used to customize how to component will look like while it's still loading.</p>
<h3><code>onCreate()</code> <small>( <code>&lt;controller&gt;.create()</code> )</small></h3>
<p>The <code>onCreate</code> method gets called right after all component's resources have been loaded. At this stage it is already possible
to access the component's view and the data model. This method is also employed to register input event listeners, to declare
members to expose publicly and to declare members available in the view's scripting scope.</p>
<h3><code>onUpdate()</code> <small>( <code>&lt;controller&gt;.update(target, key, value, path, old)</code> )</small></h3>
<p>This method gets called anytime a bound field of the data model is updated.</p>
<h3><code>onDispose()</code> <small>( <code>&lt;controller&gt;.dispose()</code> )</small></h3>
<p>This method gets called right before the component is unloaded and disposed, and it's employed to clear timers and correctly
dispose other resources that are not automatically handled by <em>zuix.js</em>.</p>
<h2>Inline implementation of a component</h2>
<p>A component can also be implemented inline, directly in the HTML page, as shown in the following <strong>inline component</strong> template (view + controller):</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-view</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>path/of/component-name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token comment">&lt;!-- component's view template content --></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>#path/of/component-name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token comment">/* styles definitions of this component's view */</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">class</span> <span class="token class-name">ComponentName</span> <span class="token keyword">extends</span> <span class="token class-name">ControllerInstance</span> <span class="token punctuation">{</span>
    <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span>
    <span class="token comment">// ...</span>
<span class="token punctuation">}</span>
zuix<span class="token punctuation">.</span><span class="token function">controller</span><span class="token punctuation">(</span>ComponentName<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">for</span><span class="token punctuation">(</span><span class="token string">'path/of/component-name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>A component declared inline can be loaded as any other component:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>path/of/component-name<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>or, if a custom element tag has been defined:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>component-name</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>component-name</span><span class="token punctuation">></span></span></code></pre>
<h3>Common tasks</h3>
<p>Consider this simple view</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">#message</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>where, in the controller's code, <code>this</code> is the <a href="../api/zuix/ContextController">ContextController</a> instance:</p>
<ul>
<li>
<p>getting the view:</p>
<p><code>const $view = this.view()</code></p>
</li>
<li>
<p>querying the view's DOM</p>
<p><code>const $elements = $view.find('&lt;filter&gt;')</code></p>
<p>or</p>
<p><code>const $elements = this.view('&lt;filter&gt;')</code></p>
</li>
<li>
<p>getting the view's field <code>#message</code></p>
<p><code>const $msg = this.field('message')</code></p>
<p>or</p>
<p><code>const $msg = this.model().message</code></p>
</li>
<li>
<p>listening to events</p>
<p><code>$msg.on('click', eventCallbackFn)</code></p>
</li>
<li>
<p>emitting custom component's events</p>
<p><code>this.trigger('myevent', myEventData)</code></p>
</li>
<li>
<p>declaring component's public fields and methods</p>
<p><code>this.expose('memberName', handlerFn)</code></p>
<p>or</p>
<pre><code>this.expose({  
   method1: handlerFn1,  
   method2: handlerFn2,  
   get property1() { return _property1; },  
   set property1(v) { _property1 = v; },  
   /* ... */  
 })
</code></pre>
</li>
<li>
<p>declaring fields that are available in the view's scripting scope</p>
<p><code>this.delcare('memberName', handlerFn)</code></p>
<p>or</p>
<pre><code>this.declare( 
   method1: handlerFn1, 
   method2: handlerFn2, 
   get property1() { return _property1; }, 
   set property1(v) { _property1 = v; }, 
   /* ... */ 
 })
</code></pre>
</li>
</ul>
<p>See the <a href="../api/zuix/ContextController">ContextController API</a> for a list of all available properties and methods.</p>
<h3>Examples</h3>
<p>As an example, the following controller's code, is the implementation of a Material Design Light <a href="https://getmdl.io/components/index.html#buttons-section">button</a>:</p>
<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
  <div class="mdl-tabs__tab-bar">
      <a href="#es6-class" class="mdl-tabs__tab is-active">ES6+</a>
      <a href="#es5-function" class="mdl-tabs__tab">ES5</a>
  </div>
  <div class="mdl-tabs__panel is-active" id="es6-class">
<pre class="language-js"><code class="language-js">
<span class="token comment">/**
 * MdlButton class.
 * @constructor
 * @this {ContextController}
 */</span>
<span class="token keyword">class</span> <span class="token class-name">MdlButton</span> <span class="token keyword">extends</span> <span class="token class-name">ControllerInstance</span> <span class="token punctuation">{</span>

  <span class="token function">onCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> $view <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> type <span class="token operator">=</span> options<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token string">'raised'</span><span class="token punctuation">;</span>
    $view<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'mdl-button mdl-js-button mdl-button--'</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token string">' mdl-js-ripple-effect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>class<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      $view<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'mdl-button--'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment">// file: "controllers/mdl-button.js"</span></code></pre>
  </div>
  <div class="mdl-tabs__panel" id="es5-function">
<pre class="language-js"><code class="language-js"><span class="token string">'use strict'</span><span class="token punctuation">;</span>
<span class="token comment">/**
 * @class MdlButton
 * @constructor
 * @this {ContextController}
 */</span>
<span class="token keyword">function</span> <span class="token function">MdlButton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

  <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">create</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> $view <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">view</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> options <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> type <span class="token operator">=</span> options<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token string">'raised'</span><span class="token punctuation">;</span>
    $view<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'mdl-button mdl-js-button mdl-button--'</span> <span class="token operator">+</span> type <span class="token operator">+</span> <span class="token string">' mdl-js-ripple-effect'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>options<span class="token punctuation">.</span>class<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      $view<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span><span class="token string">'mdl-button--'</span> <span class="token operator">+</span> options<span class="token punctuation">.</span>class<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
<span class="token comment">// file: "controllers/mdl-button.js"</span></code></pre>
  </div>
</div>
<p>This controller just adds the required CSS classes to turn the host element into an MDL button.
The same thing could be similarly done for Bootstrap, Materialize.CSS, or any other CSS UI Framework.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">ctrl</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@lib/controllers/mdl-button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> With <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>
... or ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">></span></span> Without <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<p><a ctrl z-load="@lib/controllers/mdl-button">With</a>
... or ...
<a>Without</a></p>
<p>So, in the <code>create</code> lifecycle callback, the controller can access the <a href="../api/zuix/ContextController#view">view</a> element and the component's
<a href="../api/zuix/ContextController#options">options</a>, and in this example the controller recognizes two option fields, <code>type</code> and <code>class</code>,
that control the button appearance:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">ctrl</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@lib/controllers/mdl-button<span class="token punctuation">"</span></span>
   <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>fab'<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>mini-fab'<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>material-icons<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>mail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">ctrl</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@lib/controllers/mdl-button<span class="token punctuation">"</span></span>
   <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>flat'<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Flat
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">ctrl</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@lib/controllers/mdl-button<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Regular
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span></code></pre>
<div layout="row center-spread">
<div>
<a ctrl z-load="@lib/controllers/mdl-button"
:type="'fab'" :class="'mini-fab colored'">
<i class="material-icons">mail</i>
</a>
</div>
<div>
<a ctrl z-load="@lib/controllers/mdl-button"
:type="'flat'">
Flat
</a>
</div>
<div>
<a ctrl z-load="@lib/controllers/mdl-button">
Regular
</a>
</div>
</div>
<p>In this other example of an <a href="https://getmdl.io/components/index.html#menus-section">MDL menu</a>, the main <code>div</code> container
loads the <code>mdl-menu</code> controller, and contains the menu's items list and a button to activate the menu itself:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">ctrl</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@lib/controllers/mdl-menu<span class="token punctuation">"</span></span> <span class="token attr-name">z-lazy</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>false<span class="token punctuation">"</span></span>
     <span class="token attr-name">:behavior</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>menuButtonBehavior<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>visible-on-ready<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!-- the menu is defined as a simple UL list --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu option 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span>Menu option 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span>

  <span class="token comment">&lt;!-- the menu's FAB button --></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">ctrl</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>@lib/controllers/mdl-button<span class="token punctuation">"</span></span>
     <span class="token attr-name">:type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>fab'<span class="token punctuation">"</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>mini-fab colored'<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>material-icons<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>add<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>this time, the menu controller, besides adding the required classes for the <em>Material Design</em> menu, it also intercepts
when the MDL menu opens/closes, so that it can <a href="../api/zuix/ContextController/#trigger">trigger</a> the <code>menu:show</code> and <code>menu:hide</code> custom events. This controller
also improves the MDL menu by adding auto-positioning feature, so the menu will slide up or down, based on the actual position
of the button.</p>
<div z-load="default" layout="column center-left" style="padding: 32px">
<div ctrl z-load="@lib/controllers/mdl-menu" z-lazy="false" class="visible-on-ready"
:behavior="menuButtonBehavior">
<ul>
<li>Menu option 1</li>
<li>Menu option 2</li>
</ul>
<a ctrl z-load="@lib/controllers/mdl-button" class="mdl-color--pink"
:type="'fab'" :class="'mini-fab colored'">
<i class="material-icons">menu</i>
</a>
</div>
</div>
<script>
menuButtonBehavior = {
'menu:show': function() {
this.find('.material-icons').html('add')
.css({ transform: 'rotate(135deg)' });
},
'menu:hide': function() {
this.find('.material-icons').html('menu')
.css({ transform: 'rotate(0)' });
}
}
</script>
<p>Custom events triggered by the component, can then be used, like in this example, to animate the button with a <em>behavior</em>:
when the <code>menu:show</code> event occurs, the behavior's code will rotate the button element (<code>a</code>) by 135 degrees and will set
the icon <em>&quot;close&quot;</em>. When instead, the <code>menu:hide</code> event occurs, the button element is rotated back to 0 degrees and the
icon is set back to <em>&quot;menu&quot;</em>.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
menuButtonBehavior <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-property property">'menu:show'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.material-icons'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'add'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">'rotate(135deg)'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-property property">'menu:hide'</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">'.material-icons'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'menu'</span><span class="token punctuation">)</span>
          <span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token literal-property property">transform</span><span class="token operator">:</span> <span class="token string">'rotate(0)'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<h3>Global event hooks</h3>
<p>While component events are local to each instance, global events have only one global listener (hook) and this kind of event
is usually employed to get notified about certain task progress, or to transform input data.</p>
<p>There are three types of global events:</p>
<ul>
<li><em>zuix.js</em> loader events</li>
<li>component's allocation events</li>
<li>component's custom events</li>
</ul>
<p>Loader's events can be used to determine whether <em>zuix.js</em> is actually loading components or not, and, for instance, to
show a visible feedback to the user.</p>
<p>Component's allocation events can be used to process the view's HTML template and style before they are attached to the
DOM, and also to process the view's DOM after the component is loaded and before the component is actually created.</p>
<p>Custom component's global events can be used to allow notification or transformation for a type of components.</p>
<p>For an example on how to use this kind of events, see <a href="../api/zuix/Zuix/#hook">zuix.hook(..)</a> in the API documentation page.</p>
<h3>Global resources and singleton components</h3>
<p>Like the examples in these pages, where some components depend on MDL library, a controller implementation might depend
on some external libraries. To correctly deploy such a component then, a list of its dependencies should be provided as
pre-requisites, so that these dependencies can be added to the page hosting these components.</p>
<p>Alternatively, a component can declare all resources it requires in order to work properly, so that if not already loaded
in the page, these resources will be automatically loaded along with the component.</p>
<p>For this purpose the <a href="../api/zuix/Zuix/#using"><code>zuix.using(..)</code></a> and <a href="../api/zuix/ContextController/#using"><code>ContextController.using(..)</code></a> methods can be used to load common dependencies such as utility scripts,
stylesheets or utility/service controllers that are accessible application-wide. <a href="../context_options#libraries-and-theming">Library shortcuts</a> can
also be used in the URL path.</p>
<p>Some examples:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// Load library from CDN if not already included in the document</span>
zuix<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token string">'script'</span><span class="token punctuation">,</span> <span class="token string">'https://some.cdn.js/moment.min.js'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> hashId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// can start using moment.js</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Load styles from CDN if not already included in the document</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>zuix<span class="token punctuation">.</span>$<span class="token punctuation">.</span><span class="token function">classExists</span><span class="token punctuation">(</span><span class="token string">'.animate__animated .animate__bounce'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  zuix<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> <span class="token string">'@cdnjs/animate.css/4.1.1/animate.min.css'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> hashId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// AnimateCSS animation classes loaded</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>zuix<span class="token punctuation">.</span>$<span class="token punctuation">.</span><span class="token function">classExists</span><span class="token punctuation">(</span><span class="token string">'[layout]'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> flexLayoutUrl <span class="token operator">=</span> <span class="token string">'@cdnjs/flex-layout-attribute/1.0.3/css/flex-layout-attribute.min.css'</span><span class="token punctuation">;</span>
  zuix<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token string">'style'</span><span class="token punctuation">,</span> flexLayoutUrl<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> hashId</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// Flex Layout Attribute loaded</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Load a singleton component (application-wide service)</span>
myService <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> 
zuix<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">(</span><span class="token string">'component'</span><span class="token punctuation">,</span> <span class="token string">'controllers/my-service-api'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">resourcePath<span class="token punctuation">,</span> ctx</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// component loaded</span>
  myService <span class="token operator">=</span> ctx<span class="token punctuation">;</span>
  myService<span class="token punctuation">.</span><span class="token function">publicMethod1</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  myService<span class="token punctuation">.</span><span class="token function">publicMethod2</span><span class="token punctuation">(</span><span class="token string">'test'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>


    
    

    <div layout="rows center-spread" style="margin-top: 112px; gap:12px; margin-bottom: 32px; padding-left: 8px; padding-right: 8px; font-size: 140%">

        
        <a href="/pages/documentation/active_refresh/" style="text-align: center">
            <label layout="row center-center">
                <i class="material-icons">arrow_left</i>&nbsp;
                <span style="padding-right: 24px">Previous</span>
            </label>
            <div class="mdl-color-text--pink">Events and Active&rarr;Refresh</div>
        </a>
        

        
        <a href="/pages/documentation/cli/" style="text-align: center">
            <label layout="row center-center">
                <span style="padding-left: 24px">Next</span>
                <i class="material-icons">arrow_right</i>&nbsp;
            </label>
            <div class="mdl-color-text--pink">CLI / Templates</div>
        </a>
        

    </div>



        </div>

    </main>


    <!-- Navigation Drawer -->
    <div ctrl z-load="@lib/controllers/drawer-layout"
         z-context="menu-drawer" z-lazy="false"
         z-options="drawer_opts"
         class="drawer-layout no-select visible-on-ready"
         layout="column top-stretch">
        <!-- Navigation Drawer content -->

        <!-- Header -->
        <div class="drawer-header" layout="column justify-stretch">
            <div self="stretch" layout="row center-justify">
                <a href="/" title="Home">
                    <img class="logo animate__animated animate__swing animate__fast"
                         src="/images/icons/icon-192x192.png" alt="Logo" title="zuix.js">
                </a>
                <div class="text-logo">
                    zuix.js
                    <small>
                        v1.1.24
                    </small>
                    <script>
                        self.zuixVersion = "1.1.24";
                    </script>
                </div>
                <a href="https://github.com/zuixjs" style="margin: 8px 8px 4px 10px;opacity: 0.75">
                    <img src="/images/github-mark-light.png" alt="GitHub logo"
                         title="zuix.js on GitHub" width="32" height="32">
                </a>
            </div>
            <div style="padding-left: 6px;padding-right: 6px;">
                JavaScript library for component-based websites and applications.
            </div>
        </div>

        <!-- Menu items and other content -->
        <div class="drawer-content" self="size-x1">
            <!--
<ul>
    <li >
    <a href="/home" class="mdl-js-ripple-effect">
        <div layout="row center-left">
            <i class="material-icons">home</i>
            <span>Home</span>
        </div>
        <span class="mdl-button__ripple-container" draggable="false"><span class="mdl-ripple"></span></span>
    </a>
    </li>
    <li >
    <a href="/search" class="mdl-js-ripple-effect">
        <div layout="row center-left">
            <i class="material-icons">search</i>
            <span>Search</span>
        </div>
        <span class="mdl-button__ripple-container" draggable="false"><span class="mdl-ripple"></span></span>
    </a>
    </li>
</ul>
-->

<!--
        <label>Documentation</label>
-->
        <ul>
            
            <li >
                <a href="/pages/documentation/about/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>About zuix.js</span>
                        <i class="material-icons">info_outline</i>
                    </div>
                    <div class="summary">
                        Library and CLI features in brief.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/getting_started/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Getting started</span>
                        <i class="material-icons">outlined_flag</i>
                    </div>
                    <div class="summary">
                        Creating a new project using the CLI, bare library usage.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/component/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Component</span>
                        <i class="material-icons">smart_button</i>
                    </div>
                    <div class="summary">
                        Custom elements, standalone components, the <em>default</em> component.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/context_options/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Context Options</span>
                        <i class="material-icons">bolt</i>
                    </div>
                    <div class="summary">
                        Options, component's events, style, lazy-loading, priority, theming.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/view/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>View</span>
                        <i class="material-icons">html</i>
                    </div>
                    <div class="summary">
                        Data binding, binding adapters, accessibility, behaviors, events.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/active_refresh/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Events and Active&rarr;Refresh</span>
                        <i class="material-icons">loop</i>
                    </div>
                    <div class="summary">
                        Events, scoped scripts, interop., active <code>@</code> refresh, observables.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li  aria-current="page">
                <a href="/pages/documentation/controller/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Controller</span>
                        <i class="material-icons">javascript</i>
                    </div>
                    <div class="summary">
                        Implementation types, lifecycle, options, events.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/cli/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>CLI / Templates</span>
                        <i class="material-icons">terminal</i>
                    </div>
                    <div class="summary">
                        Creating a new projects, pages and components.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/playground/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Playground</span>
                        <i class="material-icons">sports_soccer</i>
                    </div>
                    <div class="summary">
                        Embeddable components editor with live preview.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/api/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>API</span>
                        <i class="material-icons">emoji_nature</i>
                    </div>
                    <div class="summary">
                        Zuix, ComponentContext, ContextController, ZxQuery.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li></ul>

    


        </div>

    </div>


    <footer self="size-x1">

        <div layout="rows top-spread">
            <div class="margin-10px">
                see <a href="https://github.com/zuixjs/zuix/blob/master/LICENSE.TXT" target="_blank" rel="noreferrer">code</a>
                and <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noreferrer">documentation</a>
                licenses
            </div>
            <div class="margin-10px">
                <a href="https://github.com/zuixjs" target="_blank" rel="noreferrer">zuix.js</a>
            </div>
            <div class="margin-10px">
                © 2016-to-infinity-and-beyond
                by <a href="https://glabs.it" target="_blank" rel="noreferrer">g-labs</a>
            </div>
        </div>

    </footer>
    <style>
        footer {
            margin-top: 96px;
            max-height: 96px;
            min-height: 96px;
            font-size: 120%;
            padding: 12px 24px 0;
            background: #bbc;
            background: linear-gradient(#fff, #16641c22);
        }
    </style>


<!-- Built with love using zUIx Web Starter -->

<script>

  // Google Analytics: change UA-92520304-1 to be your site's ID
  if (location.hostname !== "localhost" && location.hostname !== "127.0.0.1") {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-92520304-1', 'auto');
    ga('send', 'pageview');
  }

</script>



</body>

<!-- page script -->
<script>
/** type {ComponentContext} */
let menuDrawer;
window.drawer_opts = {
  priority: -10,
  autoHideWidth: 1280,
  on: {
    'drawer:open': function() {
      /* ... */
    },
    'drawer:close': function() {
      /* ... */
    }
  },
  ready: function() {
    menuDrawer = this;
    menuDrawer.$.playAnimation(['animate__fadeIn', enterAnimation]);
  }
};

function scrollbarVisible(element) {
  const r = element.getBoundingClientRect();
  return r.bottom !== r.height;
}

const header = zuix.field('header');
let headerVisible = true;
function showHeader() {
  if (!headerVisible) {
    headerVisible = true;
    header
        .playAnimation(['animate__fadeOutUp', 'animate__fadeInDown'])
        .show();
  }
}
function hideHeader() {
  if (headerVisible && !header.isPlaying()) {
    headerVisible = false;
    header
        .playAnimation({
          classes: ['animate__fadeInDown', 'animate__fadeOutUp'],
          onEnd: function() {
            this.hide();
          }
        });
  }
}

function processExternalLinks(view) {
  // Force opening of all non-local links in a new window
  view.find('a[href*="://"]')
      .attr('target', '_blank')
      .attr('rel', 'noreferrer');
}

zuix.hook('view:process', function(view) {
  processExternalLinks(view);
});
processExternalLinks(zuix.$(document));

// add presentation anim to the drawer
const referrerLink = document.createElement('a');
referrerLink.href = document.referrer;
const enterAnimation =
  (referrerLink.pathname === '/') ?
    'animate__fadeInLeft' : 'animate__fadeIn';

</script>


</html>

