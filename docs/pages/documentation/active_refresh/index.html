
<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="About scoped scripts, dependencies, refresh-handlers, built-in @ handlers, custom handlers.">
    <meta name="keywords" content="documentation,api,active,refresh,handlers,scoped scripts,scripting context,scripting scope,observable,proxy,events,using" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Events and Active&rarr;Refresh</title>
    <link rel="author" href="humans.txt" />
    <link rel="alternate" type="application/rss+xml"
          title="RSS Feed for Events and Active&rarr;Refresh"
          href="/feed/rss.xml" />

    <!-- Disable tap highlight on IE -->
    <meta name="msapplication-tap-highlight" content="no">

    <!-- Progressive Web App -->
    <meta name="theme-color" content="white">
    <link rel="manifest" href="/manifest.json">

    <!-- Add to home screen for Chrome on Android -->
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="/images/icons/desktop/android-chrome-192x192.png">
    <link rel="icon" sizes="512x512" href="/images/icons/desktop/android-chrome-512x512.png">

    <!-- Add to home screen for Safari on iOS -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="A zUIx website">
    <link rel="apple-touch-icon-precomposed" href="/images/icons/desktop/apple-touch-icon.png">
    <link rel="mask-icon" href="/images/icons/desktop/safari-pinned-tab.svg" color="#5bbad5">

    <!-- Tile color for Windows -->
    <meta name="msapplication-TileImage" content="/images/icons/desktop/mstile-150x150.png">
    <meta name="msapplication-TileColor" content="#ffc40d">

    <!-- Place favicon.ico in the root directory -->
    <link rel="icon" type="image/png" sizes="32x32" href="/images/icons/desktop/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/icons/desktop/favicon-16x16.png">

    <!-- SEO: If your mobile URL is different from the desktop URL, add a canonical link to the desktop page https://developers.google.com/webmasters/smartphone-sites/feature-phones -->
    <!--
    <link rel="canonical" href="https://www.example.com/">
    -->

    <link rel="preload" as="style" href="/css/fla/flex-layout-attribute.min.css" />
    <link rel="stylesheet" href="/css/fla/flex-layout-attribute.min.css" />
    <link rel="preload" as="style" href="/css/animate.min.css" />
    <link rel="stylesheet" href="/css/animate.min.css" />

    <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin="">
    <link rel="preload" as="style" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons&display=swap">

    <!-- custom style -->
    <style>
        .rotate{
            animation: loading 3s linear infinite;
        }
        @keyframes loading {
            0% {
                transform: rotate(0);
            }
            100% {
                transform: rotate(360deg);
            }
        }
    </style>


    <link rel="preload" as="style" href="/js/mdl/material.custom-theme.min.css">
    <link rel="stylesheet" href="/js/mdl/material.custom-theme.min.css">
    <link rel="preload" as="script" href="/js/mdl/material.min.js">
    <script src="/js/mdl/material.min.js"></script>



    <link rel="preload" as="style" href="/css/prism.css" />
    <link rel="stylesheet" href="/css/prism.css" />


    <!-- zuix.js https://github.com/zuixjs/zuix -->
    <link rel="preload" as="script" href="/js/zuix/zuix.js">
    <link rel="preload" as="script" href="/config.js">
    <script src="/js/zuix/zuix.js"></script>
    <script src="/config.js"></script>

<style>
    :root {
        --primary-color: #16641c;
        --primary-color-half: #16641c88;
        --accent-color: rgb(0 123 171);
    }

    body {
        margin: 0;
        padding: 0;
        font-size: 12px!important;
        font-family: Helvetica, sans-serif;
        position: relative;
        min-height: 100vh;
    }

    /* prevents links dragging */
    a, a::after, a::before {
        -webkit-user-drag: none;
        -webkit-app-region: no-drag;
    }

    a {
        text-decoration: none;
    }
    h1 {
        font-size: 195%;
        font-weight: 600!important;
    }
    h1.title {
        margin:0;
        padding-right: 48px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        text-align: center;
        color: var(--primary-color);
    }
    h2 {
        font-size: 185%;
        margin-top: 56px;
        font-weight: 600;
    }
    h3 {
        margin-top: 42px;
        font-size: 160%;
        font-weight: 600;
        color: lightslategray;
    }
    label {
        color: lightslategray;
        font-size: 14px;
        text-transform: uppercase;
        font-weight: bold;
        margin-top: 24px;
        display: block;
    }

    main .content ul {
        padding-left: 20px;
    }
    li {
        line-height: 175%;
        font-size: 100%;
    }
    li small {
        color: dimgray;
        /*    opacity: 0.5;*/
    }

    blockquote {
        font-size: 140%;
        opacity: 0.6;
    }

    p {
        font-size: 130%;
        line-height: 160%;
        margin-bottom: 24px;
    }

    hr {
        margin-bottom: 30px;
        padding: 4px;
        margin: 0;
    }

    th {
        border: 1px solid rgba(100,100,100, 0.5);
    }
    td:not(:first-child) {
        border-left: 1px solid rgba(100,100,100, 0.5);
        padding: 4px;
    }

    code[class*=language-], pre[class*=language-] {
        font-size: 115%;
    }
    pre:not([class*="language-"]) {
        width: 100%;
        max-width: 100%;
        overflow-x: auto;
    }

    pre[class*="language-"]{
        margin-top: 32px!important;
        margin-bottom: 32px!important;
    }
    code {
        color: #0b753f;
        font-size: 115%;
        font-weight: 400;
        margin-left: 2px;
        margin-right: 2px;
        overflow-wrap: break-word; /* for old browsers */
        overflow-wrap: anywhere;
    }
    code.option {
        font-size: 80%;
        padding: 4px;
        border-radius: 6px;
        border: solid 1px rgba(0,200,0,0.25);
        background: rgba(255,255,255,0.15);
    }
    p code {
        font-size: 90%;
    }
    table {
        /*margin-left: auto;
        margin-right: auto;*/
        border: 1px solid rgba(0,0,0,0.2);
    }

    /* prevents links dragging */
    a, a::after, a::before {
        -webkit-user-drag: none;
        -webkit-app-region: no-drag;
    }

    main {
        width: 100% !important;
        padding: 0 !important;
        transition: padding-left 150ms ease-in-out;
    }
    main div.content {
        width: 100% !important;
        max-width: 960px !important;
        padding-left: 12px !important;
        padding-right: 12px !important;
    }
    main h2  {
        margin-top: 56px;
    }
    main .content h2:first-child {
        margin-top: 24px;
    }
    main h3 {
        margin-top: 56px;
        margin-bottom: 16px;
    }
    div.content > p {
        font-size: 150% !important;
        line-height: 160% !important;
        margin: 24px 0 24px;
    }
    [\#header] {
        position: fixed;
        z-index: 1;
        top:0; left: 0; right: 0; bottom: 0;
        height: 64px;
        padding-left: 8px;
        padding-right: 8px;
        background: #f1f1f1;
        box-shadow: 0 1px rgba(100, 100, 100, 30%);
    }
    h1[\#alt_header] {
        max-width: 100%;
        text-align: center;
        display: block;
        padding: 0 !important;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
        font-weight: 600;
        margin: 24px;
    }

    .header-menu-button {
        cursor: pointer;
        height: 48px!important;
        width: 48px!important;
    }
    .header-menu-button i {
        color: black;
        font-size: 32px!important;
        left: 20px!important;
    }

    .margin-8px {
        margin: 8px;
    }
    .margin-10px {
        margin: 10px;
    }
    .margin-16px {
        margin: 16px;
    }
    .no-select {
        -webkit-touch-callout: none; /* iOS Safari */
        -webkit-user-select: none; /* Safari */
        -khtml-user-select: none; /* Konqueror HTML */
        -moz-user-select: none; /* Old versions of Firefox */
        -ms-user-select: none; /* Internet Explorer/Edge */
        user-select: none; /* Non-prefixed version, currently
                                      supported by Chrome, Edge, Opera and Firefox */
    }
    @media screen and (min-width: 1280px) {
        main {
            padding-top: 0 !important;
            padding-left: 304px !important;
            padding-right: 24px !important;
        }
        .sponsorship {
            margin-left: 280px;
        }
        [\#header] {
            padding-left: 316px;
            display: none;
        }
        h1[\#alt_header] {
            margin-top: 32px;
            margin-bottom: 48px;
            /*margin-left: -28px;*/
            visibility: visible;
        }
        .header-menu-button {
            display: none;
        }
        footer {
            margin-left: 280px;
        }
    }

    /* UI state classes */
    .not-ready {
        opacity: 0.5;
        -webkit-animation: pulse .5s infinite ease-in-out;
        -o-animation: pulse .5s infinite ease-in-out;
        -ms-animation: pulse .5s infinite ease-in-out;
        -moz-animation: pulse .5s infinite ease-in-out;
        animation: pulse .5s infinite ease-in-out;
    }
    @-webkit-keyframes pulse {
        0% { opacity: 0.2; }
        50% { opacity: 0.4; }
        100% { opacity: 0.2; }
    }
    @keyframes pulse {
        0% { opacity: 0.2; }
        50% { opacity: 0.4; }
        100% { opacity: 0.2; }
    }

    .mdl-tabs__panel pre {
        margin-top: 0!important;
    }
    .mdl-tabs__tab-bar {
        justify-content: left!important;
    }

    [z-load="@lib/templates/mdl-card-image"] {
        position: relative;
        width: 256px;
        height: 256px;
    }
    .drawer-header {
    color:white;
    height: 128px;
    padding: 8px 8px 8px 8px;
    background: #7b9170;  /* fallback for old browsers */
    background: -webkit-linear-gradient(to right, #7b9170, #0b4d2c);  /* Chrome 10-25, Safari 5.1-6 */
    background: linear-gradient(to right, #7b9170, #0b4d2c); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */
}
.drawer-header img.logo {
    width: 64px;
    height: 64px;
    border: solid 1px rgba(0,0,0,0.75);
    border-radius: 56px;
    background: #ffffff;
}
[data-theme="dark"] .drawer-header img.logo {
    background: #000;
}

.drawer-header .text-logo {
    font-family: "Roboto", "Helvetica", "Arial", sans-serif;
    font-size: 180%;
    font-weight: 400;
}
.drawer-header .text-logo small {
    font-size: 12px;
    vertical-align: middle;
    margin-left: 8px;
}
.drawer-header .title {
    margin-left: 4px;
    margin-right: 4px;
    font-size: 120%;
    font-weight: 300;
}
.drawer-header .title code {
    font-weight: bold;
}
.drawer-header .subtitle {
    margin-left: 4px;
    margin-right: 4px;
    font-size: 100%;
    opacity: 0.75;
}
.drawer-header code {
    color: yellow;
}

.drawer-content {
    background: white;
}
[data-theme="dark"] .drawer-content {
    background: #24333e;
}

.drawer-content ul {
    padding: 0;
    margin-top: 8px;
    /*font-size: 120%;*/
}
.drawer-content li:hover a {
    /*box-shadow: 1px 0 rgb(0 0 0 / 15%);
    background: rgba(160,160,160,0.1);*/
    color: var(--primary-color);
}
.drawer-content li {
    margin: 0;
    min-height: 48px;
    vertical-align: center;
    align-content: center;
    align-items: center;
    list-style: none;
    border-top: solid 2px transparent;
    border-bottom: solid 2px transparent;
}
.drawer-content ul li[aria-current=page] {
    border-top: solid 2px #f3f3f3;
    border-bottom: solid 2px #f3f3f3;
    background-color: rgba(127, 127, 127, 10%);
}
.drawer-content ul li[aria-current=page] i, .drawer-content ul li[aria-current=page] a {
    color: var(--primary-color);
}
.drawer-content li a {
    color: var(--accent-color);
    position: relative;
    display: block;
    padding: 8px 16px;
    text-decoration: none;
}
.drawer-content ul li[aria-current=page] a {
    /*pointer-events: none;*/
    color: var(--primary-color);
    font-weight: bold;
}
.drawer-content ul li a div.summary {
    font-size: 95%;
    line-height: 150%;
    margin-top: 4px;
    margin-right: 32px;
    font-style: italic;
    font-weight: 400!important;
    font-family: 'Helvetica Neue', Helvetica, sans-serif;
    color: lightslategray;
}
.drawer-content label {
    display: block;
    margin-top: 16px;
    margin-bottom: 16px;
    margin-left: 12px;
    font-weight: bold;
    color: var(--primary-color);
}
.drawer-content a {
   color: #24333e;
}
[z-context="menu-drawer"]:focus {
    outline: none;
}


</style>

</head>


<!-- scroll helper is used to show/hide the header when scrolling -->
<body ctrl z-load="@lib/controllers/header-auto-hide" :header="'header'"
      z-lazy="scroll" data-theme=""
      layout="column stretch-stretch">

    <nav #header layout="row center-start">
        <div self="stretch" layout="row center-start">
            <button onclick="menuDrawer.open()" class="header-menu-button mdl-button mdl-button--icon">
                <i class="material-icons">menu_open</i>
            </button>
            <h1 self="size-x1" class="title">Events and Active&rarr;Refresh</h1>
        </div>
    </nav>


    <main layout="column top-center">

        
            <h1 #alt_header class="title">Events and Active&rarr;Refresh</h1>
        

        <div self="size-x1" class="content">
            <p><a name="scripting_scope"></a></p>
<p>Inside the view of a component, other than standard HTML event handlers, it is possible to add event handlers that live
inside the component's scripting scope.</p>
<p>This kind of event handlers can be added to an element as an attribute having the name of the event wrapped
between parentheses:</p>
<p><code>(&lt;event_name&gt;)=&quot;&lt;inline_code_or_handler_fn&gt;&quot;</code></p>
<p>The value o such event attribute is evaluated as JavaScript expression and can contain reference to variables and functions
defined in the component's scripting scope, where the following predefined objects are available:</p>
<table>
<thead>
<tr>
<th>Name</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>this</code></td>
<td>The target HTMLElement</td>
</tr>
<tr>
<td><code>$this</code></td>
<td>Same as <code>&quot;this&quot;</code>, but <em>ZxQuery-wrapped</em></td>
</tr>
<tr>
<td><code>_this</code></td>
<td>If this element is also a component, <code>_this</code> is its component's context object</td>
</tr>
<tr>
<td><code>&lt;field_name&gt;</code></td>
<td>For each element in the view with a <code>#</code> (<code>z-field</code>) attribute, there will be a variable (only one for each distinct field)</td>
</tr>
<tr>
<td><code>$&lt;field_name&gt;</code></td>
<td>Same as above but <em>ZxQuery-wrapped</em>, allowing multiple element instances for each field</td>
</tr>
<tr>
<td><code>_&lt;field_name&gt;</code></td>
<td>If the field is also a component, then, this will be its component's context object</td>
</tr>
<tr>
<td><code>context</code></td>
<td>The component's context that contains the target element</td>
</tr>
<tr>
<td><code>&lt;context_id&gt;</code></td>
<td>Alias of <code>context</code>, with the name of the component's <code>contextId</code> transformed to <em>camelCase</em></td>
</tr>
<tr>
<td><code>model</code></td>
<td>The component's data model, shortcut of <code>context.model()</code></td>
</tr>
<tr>
<td><code>$</code></td>
<td>The component's view as <em>ZxQuery</em> object, shortcut of <code>context.$</code></td>
</tr>
<tr>
<td><code>args</code></td>
<td>Optional arguments object</td>
</tr>
</tbody>
</table>
<p>Additionally, any other member explicitly declared in the <a href="../controller">component's controller</a> code using the
<a href="../api/zuix/ContextController#declare">{ContextController}.declare(..)</a>
method, will be also available.</p>
<h2>Scoped scripts</h2>
<p>Scoped scripts are executed inside the component's context, and anything declared in it is only visible within the same
component's context. They can only be declared inline, wrapped in a <code>&lt;script&gt;</code> tag, with the attribute <code>type=&quot;jscript&quot;</code>
and as direct children of the component's host element, or outside it, if the script tag's attribute <code>for=&quot;&lt;context_id&gt;&quot;</code>
is added (where <code>&lt;context_id&gt;</code> is the value of <code>z-context</code> attribute).<br>
If multiple <code>jscript</code> occurrences are found, they will be merged into a single script.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scope-test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mdl-button</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>primary'<span class="token punctuation">"</span></span>
              <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>localFunctionTest<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Test Local
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mdl-button</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mdl-button</span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>primary'<span class="token punctuation">"</span></span>
              <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>globalFunctionTest<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Test Global
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mdl-button</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">#test-message</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jscript<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>scope-test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">

  <span class="token keyword">function</span> <span class="token function">localFunctionTest</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> $el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    $testMessage
      <span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">I run inside the "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>scopeTest<span class="token punctuation">.</span>contextId<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">"'s component context.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> testMessage<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">''</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">

  <span class="token keyword">function</span> <span class="token function">globalFunctionTest</span><span class="token punctuation">(</span><span class="token parameter">e<span class="token punctuation">,</span> $el</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'I run in the global scope and cannot access component-local members.'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<script>
customElements.define('mdl-button', class extends HTMLElement {
  static get observedAttributes() { return ['disabled']; }
  context = null;
  constructor() {
    super();
    setTimeout(() => {
      zuix.loadComponent(this, '@lib/controllers/mdl-button', 'ctrl', {
        container: this.attachShadow({mode: 'closed'}),
        ready: (ctx) => this.context = ctx
      });
    });
  }
  connectedCallback() {
    this.classList.add('visible-on-ready');
    this.style.display = 'inline-block';
    this.style.margin = '4px';
  }
  attributeChangedCallback(name, oldValue, newValue) {
    this.context.$.attr(name, newValue);
  }
});
</script>
<div style="min-height: 64px">
<div z-context="scope-test">
<mdl-button :class="'primary'"
(click)="localFunctionTest">
Test Local
</mdl-button>
<mdl-button :class="'primary'"
(click)="globalFunctionTest">
Test Global
</mdl-button>
<div #test-message></div>
</div>
<script type="jscript" for="scope-test">
function localFunctionTest(e, $el) {
$testMessage
.html(`I run inside the "${scopeTest.contextId}"'s component context.`);
setTimeout(() => testMessage.innerHTML = '', 3000);
}
</script>
<script>
function globalFunctionTest(e, $el) {
alert('I run in the global scope and cannot access component-local members.');
}
</script>
</div>
<p>So, in the above example, the <code>localFunctionTest</code> runs inside the component's context and can access the
objects <code>scopeTest</code>, <code>testMessage</code>, <code>$testMessage</code> and other members available in the <a href="#scripting_scope">scripting scope</a>
of the component.</p>
<p>The type <code>jscript</code> might sound unusual, but that's just because this way the browser will not recognize the type and
will ignore this script without the need of wrapping it inside a <code>&lt;template&gt;</code> container.
Furthermore, the <code>jscript</code> type, will be automatically recognized as
JavaScript syntax by some IDE, without requiring additional plugins for syntax highlighting.</p>
<p><a name="default_refresh_handler"></a></p>
<h3>The default <em>refresh()</em> handler</h3>
<p>Inside its scripting scope, a component can be provided with a <em>default refresh handler</em>, a function that will be
called only when the component is visible in the viewport.</p>
<p>The <em>default refresh handler</em> can be implemented by adding the <code>refresh()</code> callback function to a scoped script.</p>
<p>When the component is not visible in the viewport, the refresh handler will enter a paused state and the event
<code>refresh:inactive</code> will be triggered. If it becomes visible again, the event <code>refresh:active</code> will be triggered.</p>
<p>While the main body of a scoped script is executed only once as initialization code, the <code>refresh()</code> function,
if defined, will be executed as long as the component is visible, with a delay of 100ms between each call or as
differently specified by the <code>refreshdelay</code> attribute of the enclosing <code>&lt;script&gt;</code> tag (value is expressed in
milliseconds).</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>refresh-example<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mdl-button</span> <span class="token attr-name">#button</span> 
              <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span><span class="token punctuation">'</span>primary'<span class="token punctuation">"</span></span>
              <span class="token attr-name">:model:counter</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>1000<span class="token punctuation">"</span></span>
              <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>_this.model().counter = 0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">#counter</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mdl-button</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jscript<span class="token punctuation">"</span></span> <span class="token attr-name">refreshdelay</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>250<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">

    <span class="token keyword">function</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      _button<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>counter<span class="token operator">++</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<div style="min-height: 64px">
<div z-context="refresh-example">
<mdl-button #button
:class="'primary'"
:model:counter="1000"
(click)="_this.model().counter = 0">
<span #counter></span>
</mdl-button>
<script type="jscript" refreshdelay="250">
function refresh() {
_button.model().counter++;
}
</script>
</div>
</div>
<p>So, when the above button is not visible on the screen, the component will be paused and the <code>refresh()</code> function will
not be called.</p>
<p>In this example, by using the context option <code>:on:click</code> it is possible to handle the <code>click</code> event from inside the
<code>mdl-button</code> component's context, and access the <code>model.counter</code> property directly. Otherwise, using the <code>(click)</code> event
handler, it would have been seen as an event handler running inside the context of the <code>refresh-example</code> component, where
to access the <code>#counter</code> field of the <code>mdl-button</code> component, we should have been using <code>_button.model().counter</code> in order
to address the field correctly.</p>
<h3>The default <em>ready()</em> handler</h3>
<p>A component might be using other components, libraries and other dependencies. <em>zuix.js</em> tries to automatically detect
used dependencies and start the component only when all of them have been loaded to prevent runtime errors when
evaluating component's code that might reference one or more dependencies.</p>
<p>It's anyway possible to add custom code logic to determine when to start the component, by implementing the <code>ready()</code>
callback function, and that can be added to a scoped script to prevent errors from ahead of time evaluation of component's code.</p>
<p>When implemented, the <code>ready()</code> function, will simply return <code>false</code> if the conditions to start the component aren't
there yet, for instance if an asynchronously loaded object, used in the code of the view's template, is null.<br>
When the condition for starting the component are finally met, the <code>ready()</code> function will return <code>true</code> to let the
template's refresh handlers start safely.</p>
<p>As long as the <code>ready()</code> function returns <code>false</code>, the CSS class <code>.not-ready</code> will be applied to the
view of the component, and this can be used to customize a visible feedback of the <em>not ready</em> state.</p>
<p><label class="mdl-color-text--primary">Example ready() handler</label></p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>ready-example<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">#test</span><span class="token punctuation">></span></span>Not ready yet =/<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jscript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> counter <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

    <span class="token keyword">function</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        test<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Ready! =) </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>counter<span class="token operator">++</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> self<span class="token punctuation">.</span>testIsReady<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mdl-button</span> <span class="token attr-name">@disable-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>self.testIsReady<span class="token punctuation">"</span></span>
            <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>self.testIsReady = true<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  Set ready
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mdl-button</span><span class="token punctuation">></span></span></code></pre>
<div style="min-height: 120px">
<div z-context="ready-example">
<div #test>Not ready yet =/</div>
<script type="jscript">
let counter = 0;
function refresh() {
test.innerHTML = `Ready! =) ${counter++}`;
}
function ready() {
return self.testIsReady;
}
</script>
</div>
<mdl-button @disable-if="self.testIsReady"
(click)="self.testIsReady = true">
Set ready
</mdl-button>
</div>
<style>
  [z-context="ready-example"] {
    font-size: 200%;
    width: 200px;
    padding: 12px;
    margin-bottom:24px;
    border-radius: 4px;
    border: solid 1px purple; 
  }
</style>
<p>This is the style used for the <code>.not-ready</code> class effect in the above example.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">></span></span><span class="token style"><span class="token language-css">
  <span class="token selector">.not-ready</span> <span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
    <span class="token property">animation</span><span class="token punctuation">:</span> pulse .5s infinite ease-in-out<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">></span></span></code></pre>
<p><a name="interoperability"></a></p>
<h2>Interoperability</h2>
<h3>Using a component from another</h3>
<p>Inside the component's view, it's also possible to reference other components loaded in the page by adding the <code>z-using</code>
option attribute to the host element.<br>
This option attribute will contain a comma separated list of the contexts' identifiers of required components.</p>
<p>A variable for each referenced context id, with its name equals to the component id converted to <em>camel case</em>, will be
then available in the component's scripting scope.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-using</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  
  <span class="token comment">&lt;!-- 'myMenu' component is injected
       in this scripting scope --></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mdl-button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>myMenu.show()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Open menu
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mdl-button</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>context-menu</span> <span class="token attr-name">z-context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-menu<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span> <span class="token attr-name">#menu</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Option 1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Option 2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Option 3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">></span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>context-menu</span><span class="token punctuation">></span></span></code></pre>
<div style="min-height: 80px" layout="row center-left">
<script type="module">
  import "https://zuixjs.github.io/zkit/lib/1.2/components/context-menu.module.js";
</script>
<div z-using="my-menu">
<!-- 'myMenu' component is injected
in this scripting scope -->
<mdl-button (click)="myMenu.show()">
Open menu
</mdl-button>
</div>
<context-menu z-context="my-menu">
<template #menu>
<button>Option 1</button>
<button>Option 2</button>
<button>Option 3</button>
</template>
</context-menu>
</div>
<p>In the example above the <code>div</code> containing the button is referencing the component with context id <code>my-menu</code>,
which is the <code>context-menu</code> from <a href="https://zuixjs.github.io/zkit/content/components/context-menu/">zKit components</a>.<br>
So, in the <code>click</code> event handler of the button it is possible to address the menu directly and make it open calling the
<code>show()</code> method of the <code>context-menu</code> component.</p>
<div layout="column center-left" style="margin-left: 16px"><div><a layout="row center-start" href="https://codepen.io/genielabs/pen/RwQepbV">
         <i class="material-icons mdl-color-text--primary">try</i>
         <span style="font-size: 120%;margin-left:6px;margin-bottom: 2px">Example on CodePen</span>
       </a></div></div>
<p>It's also possible to add the <code>using</code> attribute directly on a scoped <code>script</code>.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jscript<span class="token punctuation">"</span></span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-component<span class="token punctuation">"</span></span>
        <span class="token attr-name">using</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-select,other-component<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
  
  <span class="token comment">// ...</span>
  <span class="token keyword">let</span> color <span class="token operator">=</span> colorSelect<span class="token punctuation">.</span><span class="token function">getSelected</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">let</span> test <span class="token operator">=</span> otherComponent<span class="token punctuation">.</span>test<span class="token punctuation">;</span>
  <span class="token comment">// ...</span>
  
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<p>The name of the variable assigned to contexts referenced with the <code>z-using/using</code> attribute can also be explicitly
assigned by using the <code>as</code> keyword:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-using</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>my-menu as m<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>m.show()<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Open Menu<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<h3>Exposing public methods or properties</h3>
<p>With a scoped script it's also possible to add public methods and properties to a component so that these can be invoked
from other components as well:</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jscript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">

  expose <span class="token operator">=</span> <span class="token punctuation">{</span>

    <span class="token comment">// adds a public property getter (read only)</span>
    <span class="token keyword">get</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'test getter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token keyword">return</span> <span class="token string">'ok'</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// add a public method</span>
    <span class="token function-variable function">getSelected</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> _selected<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

  <span class="token punctuation">}</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
<h2>Active→Refresh handlers</h2>
<p><em>Active→Refresh</em> handlers are user-definable functions that are associated with elements of a component's view and
that, like the <em><a href="#default_refresh_handler">default refresh handler</a></em>, get executed only when the component is visible on screen,
or enter a <em>paused</em> state otherwise. Refresh handlers can be activated on any component's element, directly in the HTML
template by using the special element's attribute prefix <code>@</code> (here thus intended as a symbol for &quot;<em>refresh/loop</em>&quot;).</p>
<p>This kind of functions are very small and very little CPU time-consuming, even because they might get executed already a
bunch of times in a second.</p>
<h3>Built-in <code>@</code> handlers</h3>
<p>The following active→refresh handlers are available:</p>
<ul>
<li><code>@if</code> → evaluates the given condition; if true, executes the code specified by the <code>@then</code> attribute, otherwise
the <code>@else</code> one</li>
<li><code>@hide-if</code> → sets element's visibility to hidden if the given expression is truthy</li>
<li><code>@disable-if</code> → sets element to disabled if the given expression is truthy</li>
<li><code>@sync</code> → synchronizes the value of the element with the data model's field specified by <code>#</code> (<code>z-field</code>) attribute or by
the <code>@sync</code> value</li>
<li><code>@get</code> → gets new values from evaluating the given expression and passes them as arguments of the script specified by the <code>@set</code>
attribute</li>
<li><code>@set</code> → sets code to execute (works also without <em>@get</em>)</li>
</ul>
<p>Next to any active→refresh handler it is also possible to specify the following options:</p>
<ul>
<li><code>@delay=&quot;&lt;refresh_delay_ms&gt;&quot;</code></li>
<li><code>@active</code></li>
</ul>
<p>The <code>@delay</code> option can be used to set the refresh rate in milliseconds (default is 100ms), while the <code>@active</code>
option will force the execution of the refresh handler even if the element is not visible on screen.</p>
<p>In the next example, a component context with id <code>form-test</code> is created on a <code>div</code> container. It's then possible to use
<code>@</code> handlers and other component features inside its view.</p>
<p>There, four fields are declared using the <code>#&lt;field_name&gt;</code> attribute: <code>#check1</code>, <code>#check2</code>, <code>#check3</code> and <code>#proceed-button</code>.
Declared fields are then available as variables in the scoped script that is put at the end of the view and
that adds a few more declarations to the scripting scope.</p>
<p><label class="mdl-color-text--primary">Example 1</label></p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>form-test<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>agreed1<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>agreed1<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">#check1</span><span class="token punctuation">></span></span>
      Check this
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>agreed2<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>agreed2<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">#check2</span><span class="token punctuation">></span></span>
      Check that
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>agreed3<span class="token punctuation">"</span></span> <span class="token attr-name">@disable-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!bothChecked<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>agreed3<span class="token punctuation">"</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>checkbox<span class="token punctuation">"</span></span> <span class="token attr-name">#check3</span><span class="token punctuation">></span></span>
    Everything is in place!
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">#proceed-button</span>
          <span class="token attr-name">@disable-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!validFormData<span class="token punctuation">"</span></span>
          <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleClick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      Proceed
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">@hide-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!proceedButton.disabled<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
      Please check both options in order to proceed.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jscript<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">let</span> validFormData<span class="token punctuation">;</span>
    <span class="token keyword">let</span> bothChecked<span class="token punctuation">;</span>
    
    <span class="token keyword">function</span> <span class="token function">refresh</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      validFormData <span class="token operator">=</span>
              check1<span class="token punctuation">.</span>checked
              <span class="token operator">&amp;&amp;</span> check2<span class="token punctuation">.</span>checked
              <span class="token operator">&amp;&amp;</span> check3<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>
      bothChecked <span class="token operator">=</span>
              check1<span class="token punctuation">.</span>checked
              <span class="token operator">&amp;&amp;</span> check2<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token keyword">function</span> <span class="token function">handleClick</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'Yay! This worked! =)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>The two state variables <code>validFormData</code>, <code>bothChecked</code>, and the function <code>handleClick</code>, declared in the scoped script,
can be employed in the view template as values for <code>@disable-if</code> and <code>@hide-if</code> handlers, so that basically, the &quot;<em>Proceed</em>&quot;
button will be enabled only if all the three checkboxes are checked.</p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">#proceed-button</span>
        <span class="token attr-name">@disable-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>!validFormData<span class="token punctuation">"</span></span>
        <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>handleClick<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> Proceed <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span></code></pre>
<p><label class="mdl-color-text--primary">Result</label></p>
<div z-load="default"
class="example-container visible-on-ready" style="min-height:248px" layout="column top-start">
<label #check1 ctrl z-load="@lib/controllers/mdl-checkbox" for="agreed1">
<input type="checkbox" id="agreed1">
Check this
</label>
<label #check2 ctrl z-load="@lib/controllers/mdl-checkbox" for="agreed2">
<input type="checkbox" id="agreed2">
Check that
</label>
<label #check3 ctrl z-load="@lib/controllers/mdl-checkbox" for="agreed3"
@get="state.bothChecked as isInPlace"
@set="if (!isInPlace && _this.checked) { _this.checked = false; } _this.disabled = !isInPlace">
<input type="checkbox" id="agreed3">
Everything is in place!
</label>
<div layout="rows center-left">
<button ctrl z-load="@lib/controllers/mdl-button" style="min-width: 120px"
@disable-if="!state.validFormData" #proceed-button
(click)="handleClick">
<span #label>Proceed</span>
</button>
<i @hide-if="state.validFormData" class="material-icons animate__animated animate__flash animate__infinite mdl-color-text--orange-500 warning-sign">
report
</i>
<div @hide-if="state.validFormData">
Please check all options to proceed.
</div>
</div>
<script type="jscript" refreshdelay="175">
const $label = $.field('label');
const state = zuix.observable({
validFormData: false,
bothChecked: false
}).subscribe({
change: function(target, key, value, path, old) {
if (key === 'validFormData') {
if (value === true) {
$label.html('Let\'s go! =)');
} else {
$label.html('Proceed');
}
}
}
}).proxy;
function refresh() {
// these are async components!
state.validFormData =
_check1.checked
&& _check2.checked
&& _check3.checked;
state.bothChecked =
_check1.checked
&& _check2.checked;
}
function handleClick() {
alert('Yay! This worked! =)');
}
</script>
<style media="#">
:host {
border: solid 1px whitesmoke;
max-width: 460px;
padding: 8px;
}
.warning-sign {
margin-left: 16px;
margin-right: 16px
}
label[disabled] {
opacity: 0.5;
}
label{
text-transform: none;
font-weight:400;
max-width:200px;
}
button{
margin: 24px 12px;
}
</style>
</div>
<h3><code>@sync</code> and two-way binding</h3>
<p>View's fields are also accessible through the &quot;<code>model</code>&quot; object, that is the component's data model. In this case the
two-way data binding will automatically sync and map any value's change, as shown in the next example.</p>
<p>When using the data model to update component's field, the update is instantaneous because data model is
implemented using the platform's built-in <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy">Proxy</a> object, there's no need in using any refresh loop.</p>
<p><label class="mdl-color-text--primary">Example 2</label></p>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-context</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-select<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>Color<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color<span class="token punctuation">"</span></span> <span class="token attr-name">#color</span> <span class="token attr-name">@sync</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>Black<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>DarkRed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>GoldenRod<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>LimeGreen<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>option</span><span class="token punctuation">></span></span>DarkGreen<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>option</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">></span></span>
  
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-preview<span class="token punctuation">"</span></span>
       <span class="token attr-name">@get</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>model.color as backgroundColor<span class="token punctuation">"</span></span>
       <span class="token attr-name">@set</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$this.css({backgroundColor})<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>The <code>@sync</code> handler on the <code>select</code> will update the bound field <code>color</code> in the component's data model, anytime a new option
is selected from the <code>select</code> control.
While the <code>@get</code> handler on the color preview rectangle, will read value changes from <code>model.color</code> field, and pass new values
to the <code>@set</code> handler. So, what happen is that whenever the value of the select is changed, also the background color of
the preview rectangle will change accordingly.</p>
<div z-context="color-select" z-model="{color:'GoldenRod'}" class="example-container">
<div layout="row bottom-left">
<div>
<label for="color">Color</label>
<div class="select-dropdown">
<select id="color" #color @sync>
<option>Black</option><option>DarkRed</option><option>GoldenRod</option><option>LimeGreen</option><option>DarkGreen</option>
</select>
</div>
</div>
<div class="color-preview"
@get="model.color as backgroundColor"
@set="$this.css({backgroundColor})"></div>
</div>
<style media="#">
.color-preview {
width: 16px;
height: 16px;
border-radius: 6px;
margin: 0 6px 7px;
border: solid 3px rgba(255,255,255,0.4);
}
.select-dropdown,
.select-dropdown * {
margin: 0;
padding: 0;
position: relative;
box-sizing: border-box;
}
.select-dropdown {
margin-top: 8px;
position: relative;
background-color: #E6E6E6;
border-radius: 4px;
}
.select-dropdown select {
font-size: 1rem;
font-weight: normal;
max-width: 100%;
padding: 8px 24px 8px 10px;
border: none;
background-color: transparent;
-webkit-appearance: none;
-moz-appearance: none;
appearance: none;
}
.select-dropdown select:active, .select-dropdown select:focus {
outline: none;
box-shadow: none;
}
.select-dropdown:after {
content: "";
position: absolute;
top: 50%;
right: 8px;
width: 0;
height: 0;
margin-top: -2px;
border-top: 5px solid #aaa;
border-right: 5px solid transparent;
border-left: 5px solid transparent;
}
</style>
</div>
<p>So, setting directly <code>model.color = '&lt;color_name&gt;'</code> will also synchronize any bound element of the view, with the new
field value, as shown in the following example where the <code>model</code> of the <em>color-select</em> component above, is accessed from
the following component to get or set the currently selected color:</p>
<div z-load="default" style="min-height: 120px">
<label>
Selected
<span @get="cm.color as color" @set="$this.html(color).css({color})">
?
</span>
</label>
<div layout="rows center-left">
<div class="color-preview" style="background-color: Black"
@if="cm.color === 'Black'"
@then="$this.addClass('selected')"
@else="$this.removeClass('selected')"
(click)="cm.color = 'Black'"></div><div class="color-preview" style="background-color: DarkRed"
@if="cm.color === 'DarkRed'"
@then="$this.addClass('selected')"
@else="$this.removeClass('selected')"
(click)="cm.color = 'DarkRed'"></div><div class="color-preview" style="background-color: GoldenRod"
@if="cm.color === 'GoldenRod'"
@then="$this.addClass('selected')"
@else="$this.removeClass('selected')"
(click)="cm.color = 'GoldenRod'"></div><div class="color-preview" style="background-color: LimeGreen"
@if="cm.color === 'LimeGreen'"
@then="$this.addClass('selected')"
@else="$this.removeClass('selected')"
(click)="cm.color = 'LimeGreen'"></div><div class="color-preview" style="background-color: DarkGreen"
@if="cm.color === 'DarkGreen'"
@then="$this.addClass('selected')"
@else="$this.removeClass('selected')"
(click)="cm.color = 'DarkGreen'"></div>
</div>
<script type="jscript" using="color-select">
const cm = colorSelect.model();
</script>
<style media="#">
:host {
padding-top: 2px;
padding-bottom: 24px;
}
.selected {
border: solid 8px rgba(255,255,255,0.75) !important;
transition: border 0.1s ease-out;
}
.color-preview {
cursor: pointer;
width: 40px;
height: 40px;
margin: 8px 4px 0;
border-radius: 20px;
border: solid 8px white;
}
</style>
</div>
<pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">z-load</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>default<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span><span class="token punctuation">></span></span>
    Selected: <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">@get</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cm.color as color<span class="token punctuation">"</span></span> 
                    <span class="token attr-name">@set</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>$this.html(color).css({color})<span class="token punctuation">"</span></span><span class="token punctuation">></span></span> ? <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">layout</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>rows center-left<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cm.color = 'Black'<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-Black<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cm.color = 'DarkRed'<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-DarkRed<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cm.color = 'GoldenRod'<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-GoldenRod<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cm.color = 'LimeGreen'<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-LimeGreen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">(click)</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>cm.color = 'DarkGreen'<span class="token punctuation">"</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-DarkGreen<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>jscript<span class="token punctuation">"</span></span> <span class="token attr-name">using</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>color-select<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript">
    <span class="token keyword">const</span> cm <span class="token operator">=</span> colorSelect<span class="token punctuation">.</span><span class="token function">model</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">></span></span></code></pre>
<p>Clicking a color will then assign a new value to the &quot;color&quot; field of the data model, <code>(click)=&quot;cm.color = '&lt;color_name&gt;'&quot;</code>,
and the data binding will do the rest by synchronizing the <em>color-select</em> component automatically.</p>
<h3>Adding or overriding a <code>@</code> handler</h3>
<p>An <a href="../api/zuix/Zuix/#ActiveRefreshHandler">ActiveRefreshHandler</a> can be global or component-local. In the first case, it's stored in the global <a href="../api/zuix/Zuix/#store">store</a> named
&quot;<em>handlers</em>&quot; and can be employed in any component's view. Or it can be added to the <a href="../api/zuix/ComponentContext/#handlers">handlers</a> list of a
component's context, in which case is recognized only within the view of the component.</p>
<p>Refresh handlers will call the <a href="../api/zuix/Zuix/#ActiveRefreshCallback">refreshCallback</a> to request a new &quot;refresh&quot; after the given delay
or as soon as it becomes visible again. If the <em>refresh handler</em> does not call the <em>refreshCallback</em>, the refresh loop will end.<br>
This is the case of the <code>@sync</code> handler, that it's not a <em>refresh-based</em> handler, but rather an event based one, and
will not call the <em>refreshCallback</em>.</p>
<p>The following code, for instance, is the built-in <code>@hide-if</code> handler that is a <em>refresh-based</em> handler:</p>
<pre class="language-js"><code class="language-js">zuix<span class="token punctuation">.</span><span class="token function">store</span><span class="token punctuation">(</span><span class="token string">'handlers'</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token string">'hide-if'</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">$view<span class="token punctuation">,</span> $el<span class="token punctuation">,</span> lastResult<span class="token punctuation">,</span> refreshCallback</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> code <span class="token operator">=</span> $el<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span><span class="token string">'@hide-if'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> result <span class="token operator">=</span> zuix<span class="token punctuation">.</span><span class="token function">runScriptlet</span><span class="token punctuation">(</span>code<span class="token punctuation">,</span> $el<span class="token punctuation">,</span> $view<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>result <span class="token operator">!==</span> lastResult<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">?</span> $el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">visibility</span><span class="token operator">:</span> <span class="token string">'hidden'</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">:</span> $el<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">visibility</span><span class="token operator">:</span> <span class="token string">'visible'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    lastResult <span class="token operator">=</span> result<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">refreshCallback</span><span class="token punctuation">(</span>lastResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>that basically reads the code to evaluate from the <code>@hide-if</code> attribute's value, then it executes the code using the utility
method <code>zuix.runScriptlet(..)</code> and, if the result is truthy and not equal to the previous evaluation, then it will set the
target element's (<code>$el</code>) visibility to <code>hidden</code>, or, if the result is false and different from the previous evaluation, then
it will set the visibility to <code>visible</code>. It will finally call the method <code>refreshCallback(lastResult)</code> to request a new
refresh call, passing to it the last result.</p>
<p><a name="#observables"></a></p>
<h2>Observables</h2>
<p><a href="../api/zuix/Zuix/#observable"><code>zuix.observable(...)</code></a> is a helper method built around the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy"><code>Proxy</code></a>
object, and returns an observable instance of the given object in order to be able to detect changes made to it.</p>
<pre class="language-js"><code class="language-js">
<span class="token keyword">const</span> formState <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">validFormData</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">bothChecked</span><span class="token operator">:</span> <span class="token boolean">false</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> state <span class="token operator">=</span> zuix<span class="token punctuation">.</span><span class="token function">observable</span><span class="token punctuation">(</span>formState<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token function-variable function">change</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">target<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> path<span class="token punctuation">,</span> old</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token operator">===</span> <span class="token string">'validFormData'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        $label<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'Let\'s go! =)'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        $label<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token string">'Proceed'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>proxy<span class="token punctuation">;</span>

<span class="token comment">// ...</span>
<span class="token comment">// the line below, for example, will trigger</span>
<span class="token comment">// the `change` callback implemented above </span>
state<span class="token punctuation">.</span>validFormData <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

<span class="token comment">// ...</span>
</code></pre>


    
    

    <div layout="rows center-spread" style="margin-top: 112px; gap:12px; margin-bottom: 32px; padding-left: 8px; padding-right: 8px; font-size: 140%">

        
        <a href="/pages/documentation/view/" style="text-align: center">
            <label layout="row center-center">
                <i class="material-icons">arrow_left</i>&nbsp;
                <span style="padding-right: 24px">Previous</span>
            </label>
            <div class="mdl-color-text--pink">View</div>
        </a>
        

        
        <a href="/pages/documentation/controller/" style="text-align: center">
            <label layout="row center-center">
                <span style="padding-left: 24px">Next</span>
                <i class="material-icons">arrow_right</i>&nbsp;
            </label>
            <div class="mdl-color-text--pink">Controller</div>
        </a>
        

    </div>



        </div>

    </main>


    <!-- Navigation Drawer -->
    <div ctrl z-load="@lib/controllers/drawer-layout"
         z-context="menu-drawer" z-lazy="false"
         z-options="drawer_opts"
         class="drawer-layout no-select visible-on-ready"
         layout="column top-stretch">
        <!-- Navigation Drawer content -->

        <!-- Header -->
        <div class="drawer-header" layout="column justify-stretch">
            <div self="stretch" layout="row center-justify">
                <a href="/" title="Home">
                    <img class="logo animate__animated animate__swing animate__fast"
                         src="/images/icons/icon-192x192.png" alt="Logo" title="zuix.js">
                </a>
                <div class="text-logo">
                    zuix.js
                    <small>
                        v1.1.24
                    </small>
                    <script>
                        self.zuixVersion = "1.1.24";
                    </script>
                </div>
                <a href="https://github.com/zuixjs" style="margin: 8px 8px 4px 10px;opacity: 0.75">
                    <img src="/images/github-mark-light.png" alt="GitHub logo"
                         title="zuix.js on GitHub" width="32" height="32">
                </a>
            </div>
            <div style="padding-left: 6px;padding-right: 6px;">
                JavaScript library for component-based websites and applications.
            </div>
        </div>

        <!-- Menu items and other content -->
        <div class="drawer-content" self="size-x1">
            <!--
<ul>
    <li >
    <a href="/home" class="mdl-js-ripple-effect">
        <div layout="row center-left">
            <i class="material-icons">home</i>
            <span>Home</span>
        </div>
        <span class="mdl-button__ripple-container" draggable="false"><span class="mdl-ripple"></span></span>
    </a>
    </li>
    <li >
    <a href="/search" class="mdl-js-ripple-effect">
        <div layout="row center-left">
            <i class="material-icons">search</i>
            <span>Search</span>
        </div>
        <span class="mdl-button__ripple-container" draggable="false"><span class="mdl-ripple"></span></span>
    </a>
    </li>
</ul>
-->

<!--
        <label>Documentation</label>
-->
        <ul>
            
            <li >
                <a href="/pages/documentation/about/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>About zuix.js</span>
                        <i class="material-icons">info_outline</i>
                    </div>
                    <div class="summary">
                        Library and CLI features in brief.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/getting_started/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Getting started</span>
                        <i class="material-icons">outlined_flag</i>
                    </div>
                    <div class="summary">
                        Creating a new project using the CLI, bare library usage.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/component/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Component</span>
                        <i class="material-icons">smart_button</i>
                    </div>
                    <div class="summary">
                        Custom elements, standalone components, the <em>default</em> component.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/context_options/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Context Options</span>
                        <i class="material-icons">bolt</i>
                    </div>
                    <div class="summary">
                        Options, component's events, style, lazy-loading, priority, theming.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/view/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>View</span>
                        <i class="material-icons">html</i>
                    </div>
                    <div class="summary">
                        Data binding, binding adapters, accessibility, behaviors, events.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li  aria-current="page">
                <a href="/pages/documentation/active_refresh/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Events and Active&rarr;Refresh</span>
                        <i class="material-icons">loop</i>
                    </div>
                    <div class="summary">
                        Events, scoped scripts, interop., active <code>@</code> refresh, observables.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/controller/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Controller</span>
                        <i class="material-icons">javascript</i>
                    </div>
                    <div class="summary">
                        Implementation types, lifecycle, options, events.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/cli/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>CLI / Templates</span>
                        <i class="material-icons">terminal</i>
                    </div>
                    <div class="summary">
                        Creating a new projects, pages and components.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/playground/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>Playground</span>
                        <i class="material-icons">sports_soccer</i>
                    </div>
                    <div class="summary">
                        Embeddable components editor with live preview.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li>
            <li >
                <a href="/pages/documentation/api/" class="mdl-js-ripple-effect" style="overflow:hidden;">
                    <div layout="row center-justify">
                        <span>API</span>
                        <i class="material-icons">emoji_nature</i>
                    </div>
                    <div class="summary">
                        Zuix, ComponentContext, ContextController, ZxQuery.
                    </div>
                    <span class="mdl-ripple"></span>
                </a>
            </li></ul>

    


        </div>

    </div>


    <footer self="size-x1">

        <div layout="rows top-spread">
            <div class="margin-10px">
                see <a href="https://github.com/zuixjs/zuix/blob/master/LICENSE.TXT" target="_blank" rel="noreferrer">code</a>
                and <a href="https://creativecommons.org/licenses/by/4.0/" target="_blank" rel="noreferrer">documentation</a>
                licenses
            </div>
            <div class="margin-10px">
                <a href="https://github.com/zuixjs" target="_blank" rel="noreferrer">zuix.js</a>
            </div>
            <div class="margin-10px">
                © 2016-to-infinity-and-beyond
                by <a href="https://glabs.it" target="_blank" rel="noreferrer">g-labs</a>
            </div>
        </div>

    </footer>
    <style>
        footer {
            margin-top: 96px;
            max-height: 96px;
            min-height: 96px;
            font-size: 120%;
            padding: 12px 24px 0;
            background: #bbc;
            background: linear-gradient(#fff, #16641c22);
        }
    </style>


<!-- Built with love using zUIx Web Starter -->

<script>

  // Google Analytics: change UA-92520304-1 to be your site's ID
  if (location.hostname !== "localhost" && location.hostname !== "127.0.0.1") {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-92520304-1', 'auto');
    ga('send', 'pageview');
  }

</script>



</body>

<!-- page script -->
<script>
/** type {ComponentContext} */
let menuDrawer;
window.drawer_opts = {
  priority: -10,
  autoHideWidth: 1280,
  on: {
    'drawer:open': function() {
      /* ... */
    },
    'drawer:close': function() {
      /* ... */
    }
  },
  ready: function() {
    menuDrawer = this;
    menuDrawer.$.playAnimation(['animate__fadeIn', enterAnimation]);
  }
};

function scrollbarVisible(element) {
  const r = element.getBoundingClientRect();
  return r.bottom !== r.height;
}

const header = zuix.field('header');
let headerVisible = true;
function showHeader() {
  if (!headerVisible) {
    headerVisible = true;
    header
        .playAnimation(['animate__fadeOutUp', 'animate__fadeInDown'])
        .show();
  }
}
function hideHeader() {
  if (headerVisible && !header.isPlaying()) {
    headerVisible = false;
    header
        .playAnimation({
          classes: ['animate__fadeInDown', 'animate__fadeOutUp'],
          onEnd: function() {
            this.hide();
          }
        });
  }
}

function processExternalLinks(view) {
  // Force opening of all non-local links in a new window
  view.find('a[href*="://"]')
      .attr('target', '_blank')
      .attr('rel', 'noreferrer');
}

zuix.hook('view:process', function(view) {
  processExternalLinks(view);
});
processExternalLinks(zuix.$(document));

// add presentation anim to the drawer
const referrerLink = document.createElement('a');
referrerLink.href = document.referrer;
const enterAnimation =
  (referrerLink.pathname === '/') ?
    'animate__fadeInLeft' : 'animate__fadeIn';

</script>


</html>

